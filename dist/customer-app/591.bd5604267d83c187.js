"use strict";(self.webpackChunkcustomer_app=self.webpackChunkcustomer_app||[]).push([[591],{591:(T,d,u)=>{u.r(d),u.d(d,{SupplierModule:()=>G});var m=u(6895),i=u(433);class s{constructor(){this.supplierCode="",this.supplierName="",this.supplierAmount=0;var t=new i.qu;this.formSupplierGroup=t.group({}),this.formSupplierGroup.addControl("SupplierNameControl",new i.NI("",i.kI.required));var p=[];p.push(i.kI.required),p.push(i.kI.pattern("^[0-9]{4,4}$")),this.formSupplierGroup.addControl("SupplierCodeControl",new i.NI("",i.kI.compose(p)))}}var e=u(8256),c=u(529),h=u(1280);const f=function(){return{standalone:!0}};function g(r,t){if(1&r){const p=e.EpF();e.TgZ(0,"form",3),e._uU(1," Supplier Code: "),e.TgZ(2,"input",4),e.NdJ("ngModelChange",function(l){e.CHM(p);const n=e.oxw();return e.KtG(n.supplierModel.supplierCode=l)}),e.qZA(),e._UZ(3,"br"),e._uU(4," Supplier Name: "),e.TgZ(5,"input",5),e.NdJ("ngModelChange",function(l){e.CHM(p);const n=e.oxw();return e.KtG(n.supplierModel.supplierName=l)}),e.qZA(),e._UZ(6,"br"),e._uU(7," Supplier Amount: "),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(l){e.CHM(p);const n=e.oxw();return e.KtG(n.supplierModel.supplierAmount=l)}),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"input",7),e.NdJ("click",function(){e.CHM(p);const l=e.oxw();return e.KtG(l.add())}),e.qZA(),e.TgZ(11,"input",8),e.NdJ("click",function(){e.CHM(p);const l=e.oxw();return e.KtG(l.postToServer())}),e.qZA()()}if(2&r){const p=e.oxw();e.Q6J("formGroup",p.supplierModel.formSupplierGroup),e.xp6(2),e.Q6J("ngModel",p.supplierModel.supplierCode),e.xp6(3),e.Q6J("ngModel",p.supplierModel.supplierName),e.xp6(3),e.Q6J("ngModel",p.supplierModel.supplierAmount)("ngModelOptions",e.DdM(7,f)),e.xp6(2),e.Q6J("disabled",!p.supplierModel.formSupplierGroup.valid),e.xp6(1),e.Q6J("disabled",p.disable)}}function M(r,t){if(1&r&&(e.TgZ(0,"div",9),e._uU(1," Supplier Code format is wrong"),e.qZA()),2&r){const p=e.oxw();e.Q6J("hidden",!p.hasError("SupplierCodeControl","pattern"))}}function C(r,t){if(1&r&&(e.TgZ(0,"div",9),e._uU(1," Supplier Code is required"),e.qZA()),2&r){const p=e.oxw();e.Q6J("hidden",!p.hasError("SupplierCodeControl","required"))}}function S(r,t){if(1&r&&(e.TgZ(0,"div",9),e._uU(1," Supplier name is required"),e.qZA()),2&r){const p=e.oxw();e.Q6J("hidden",!p.hasError("SupplierNameControl","required"))}}const _=function(){return{colName:"supplierName"}},N=function(){return{colName:"supplierCode"}},v=function(){return{colName:"supplierAmount"}},Z=function(r,t,p){return[r,t,p]};let a=(()=>{class r{constructor(p,o){this.http=o,this.supplierModel=new s,this.supplierModels=new Array,this.disable=!1,this.logger=p.get("2"),this.logger.log("inside CustComponent"),this.getFromServer()}add(){this.supplierModels.push(this.supplierModel),this.supplierModel=new s}postToServer(){var p={};p.supplierName=this.supplierModel.supplierName,p.supplierAmount=this.supplierModel.supplierAmount,p.supplierCode=this.supplierModel.supplierCode,this.disable=!0,this.http.post("http://localhost:3000/suppliers",p).subscribe(o=>this.success(o),o=>this.failure(o))}selectSupplier(p){this.supplierModel=new s,this.supplierModel.supplierAmount=p.supplierAmount,this.supplierModel.supplierCode=p.supplierCode,this.supplierModel.supplierName=p.supplierName}hasError(p,o){return this.supplierModel.formSupplierGroup.controls[p].hasError(o)}success(p){this.getFromServer()}getFromServer(){this.http.get("http://localhost:3000/suppliers").subscribe(p=>this.successGet(p),p=>this.failure(p))}failure(p){console.error("error while getting/posting suppliers::"+p)}successGet(p){this.supplierModels=p,this.supplierModel=new s,this.disable=!1}}return r.\u0275fac=function(p){return new(p||r)(e.Y36(e.zs3),e.Y36(c.eN))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],decls:8,vars:13,consts:[[3,"formGroup",4,"ngIf"],[3,"hidden",4,"ngIf"],["type-of-data","'Supplier'",3,"grid-columns","grid-data","grid-selected"],[3,"formGroup"],["type","text","formControlName","SupplierCodeControl",3,"ngModel","ngModelChange"],["type","text","formControlName","SupplierNameControl",3,"ngModel","ngModelChange"],["type","text",3,"ngModel","ngModelOptions","ngModelChange"],["type","button","value","Add Tempararily",3,"disabled","click"],["type","button","value","Add Permenently",3,"disabled","click"],[3,"hidden"]],template:function(p,o){1&p&&(e.YNc(0,g,12,8,"form",0),e.YNc(1,M,2,1,"div",1),e._UZ(2,"br"),e.YNc(3,C,2,1,"div",1),e._UZ(4,"br"),e.YNc(5,S,2,1,"div",1),e._UZ(6,"br"),e.TgZ(7,"grid-ui",2),e.NdJ("grid-selected",function(n){return o.selectSupplier(n)}),e.qZA()),2&p&&(e.Q6J("ngIf",o.supplierModel.formSupplierGroup),e.xp6(1),e.Q6J("ngIf",o.supplierModel.formSupplierGroup&&o.supplierModel.formSupplierGroup.dirty),e.xp6(2),e.Q6J("ngIf",o.supplierModel.formSupplierGroup&&o.supplierModel.formSupplierGroup.dirty),e.xp6(2),e.Q6J("ngIf",o.supplierModel.formSupplierGroup&&o.supplierModel.formSupplierGroup.dirty),e.xp6(2),e.Q6J("grid-columns",e.kEZ(9,Z,e.DdM(6,_),e.DdM(7,N),e.DdM(8,v)))("grid-data",o.supplierModels))},dependencies:[m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.sg,i.u,h.M],encapsulation:2}),r})();var x=u(1022);const A=[{path:"Add",component:a}];var J=u(1162);let G=(()=>{class r{}return r.\u0275fac=function(p){return new(p||r)},r.\u0275mod=e.oAB({type:r,bootstrap:[a]}),r.\u0275inj=e.cJS({imports:[m.ez,i.u5,i.UX,x.Bz.forChild(A),c.JF,J.g]}),r})()}}]);