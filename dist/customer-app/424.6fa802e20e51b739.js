"use strict";(self.webpackChunkcustomer_app=self.webpackChunkcustomer_app||[]).push([[424],{6424:(b,i,m)=>{m.r(i),m.d(i,{CustomerModule:()=>T});var l=m(6895),s=m(433);class c{constructor(){this.customerCode="",this.customerName="",this.customerAmount=0;var u=new s.qu;this.formCustomerGroup=u.group({}),this.formCustomerGroup.addControl("CustomerNameControl",new s.NI("",s.kI.required));var e=[];e.push(s.kI.required),e.push(s.kI.pattern("^[0-9]{4,4}$")),this.formCustomerGroup.addControl("CustomerCodeControl",new s.NI("",s.kI.compose(e)))}}var o=m(8256),C=m(529),a=m(1280);const h=function(){return{standalone:!0}};function f(t,u){if(1&t){const e=o.EpF();o.TgZ(0,"form",3),o._uU(1,"\nCustomer code: "),o.TgZ(2,"input",4),o.NdJ("ngModelChange",function(n){o.CHM(e);const d=o.oxw();return o.KtG(d.customerModel.customerCode=n)}),o.qZA(),o._UZ(3,"br"),o._uU(4,"\nCustomer name: "),o.TgZ(5,"input",5),o.NdJ("ngModelChange",function(n){o.CHM(e);const d=o.oxw();return o.KtG(d.customerModel.customerName=n)}),o.qZA(),o._UZ(6,"br"),o._uU(7,"\nCustomer amount: "),o.TgZ(8,"input",6),o.NdJ("ngModelChange",function(n){o.CHM(e);const d=o.oxw();return o.KtG(d.customerModel.customerAmount=n)}),o.qZA(),o._UZ(9,"br"),o.TgZ(10,"input",7),o.NdJ("click",function(){o.CHM(e);const n=o.oxw();return o.KtG(n.Add())}),o.qZA(),o.TgZ(11,"input",8),o.NdJ("click",function(){o.CHM(e);const n=o.oxw();return o.KtG(n.postToServer())}),o.qZA()()}if(2&t){const e=o.oxw();o.Q6J("formGroup",e.customerModel.formCustomerGroup),o.xp6(2),o.Q6J("ngModel",e.customerModel.customerCode),o.xp6(3),o.Q6J("ngModel",e.customerModel.customerName),o.xp6(3),o.Q6J("ngModelOptions",o.DdM(7,h))("ngModel",e.customerModel.customerAmount),o.xp6(2),o.Q6J("disabled",!e.customerModel.formCustomerGroup.valid),o.xp6(1),o.Q6J("disabled",e.disable)}}function g(t,u){if(1&t&&(o.TgZ(0,"div",9),o._uU(1," Customer Code format is wrong"),o.qZA()),2&t){const e=o.oxw();o.Q6J("hidden",!e.hasError("CustomerCodeControl","pattern"))}}function M(t,u){if(1&t&&(o.TgZ(0,"div",9),o._uU(1," Customer Code is required"),o.qZA()),2&t){const e=o.oxw();o.Q6J("hidden",!e.hasError("CustomerCodeControl","required"))}}function _(t,u){if(1&t&&(o.TgZ(0,"div",9),o._uU(1," Customer name is required"),o.qZA()),2&t){const e=o.oxw();o.Q6J("hidden",!e.hasError("CustomerNameControl","required"))}}const N=function(){return{colName:"customerName"}},v=function(){return{colName:"customerAmount"}},A=function(){return{colName:"customerCode"}},Z=function(t,u,e){return[t,u,e]};let p=(()=>{class t{constructor(e,r){this.http=r,this.title="customer-app",this.customerModel=new c,this.customerModels=new Array,this.disable=!1,this.logger=e.get("1"),this.logger.log("inside CustComponent"),this.getFromServer()}Add(){this.customerModels.push(this.customerModel),this.customerModel=new c}hasError(e,r){return this.customerModel.formCustomerGroup.controls[e].hasError(r)}selectCustomer(e){this.customerModel=new c,this.customerModel.customerAmount=e.customerAmount,this.customerModel.customerCode=e.customerCode,this.customerModel.customerName=e.customerName}postToServer(){var e={};e.customerName=this.customerModel.customerName,e.customerCode=this.customerModel.customerCode,e.customerAmount=this.customerModel.customerAmount,this.disable=!0,this.http.post("http://localhost:3000/customers",e).subscribe(r=>this.success(r),r=>this.failure(r))}getFromServer(){this.http.get("http://localhost:3000/customers").subscribe(e=>this.successGet(e),e=>this.failure(e))}success(e){this.getFromServer()}successGet(e){this.customerModels=e,this.customerModel=new c,this.disable=!1}failure(e){console.error("Error from me::"+e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.zs3),o.Y36(C.eN))},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],decls:8,vars:13,consts:[[3,"formGroup",4,"ngIf"],[3,"hidden",4,"ngIf"],["type-of-data","'Customer'",3,"grid-columns","grid-data","grid-selected"],[3,"formGroup"],["type","text","id","custCode","formControlName","CustomerCodeControl",3,"ngModel","ngModelChange"],["type","text","id","custName","formControlName","CustomerNameControl",3,"ngModel","ngModelChange"],["type","text","id","custAmt",3,"ngModelOptions","ngModel","ngModelChange"],["type","button","value","Add Tempararily",3,"disabled","click"],["type","button","id","btnadd","value","Add Permenently",3,"disabled","click"],[3,"hidden"]],template:function(e,r){1&e&&(o.YNc(0,f,12,8,"form",0),o.YNc(1,g,2,1,"div",1),o._UZ(2,"br"),o.YNc(3,M,2,1,"div",1),o._UZ(4,"br"),o.YNc(5,_,2,1,"div",1),o._UZ(6,"br"),o.TgZ(7,"grid-ui",2),o.NdJ("grid-selected",function(d){return r.selectCustomer(d)}),o.qZA()),2&e&&(o.Q6J("ngIf",r.customerModel.formCustomerGroup),o.xp6(1),o.Q6J("ngIf",r.customerModel.formCustomerGroup&&r.customerModel.formCustomerGroup.dirty),o.xp6(2),o.Q6J("ngIf",r.customerModel.formCustomerGroup&&r.customerModel.formCustomerGroup.dirty),o.xp6(2),o.Q6J("ngIf",r.customerModel.formCustomerGroup&&r.customerModel.formCustomerGroup.dirty),o.xp6(2),o.Q6J("grid-columns",o.kEZ(9,Z,o.DdM(6,N),o.DdM(7,v),o.DdM(8,A)))("grid-data",r.customerModels))},dependencies:[l.O5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u,a.M],encapsulation:2}),t})();var x=m(1022);const J=[{path:"Add",component:p}];var G=m(1162);let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t,bootstrap:[p]}),t.\u0275inj=o.cJS({imports:[l.ez,s.u5,s.UX,x.Bz.forChild(J),C.JF,G.g]}),t})()}}]);