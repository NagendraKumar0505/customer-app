{"ast":null,"code":"import { Supplier } from './CustomerApp.SupplierModel';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../Utilities/CustomerApp.GridComponent\";\n\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\n\nfunction SupplierComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 3);\n    i0.ɵɵtext(1, \" Supplier Code: \");\n    i0.ɵɵelementStart(2, \"input\", 4);\n    i0.ɵɵlistener(\"ngModelChange\", function SupplierComponent_form_0_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.supplierModel.supplierCode = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4, \" Supplier Name: \");\n    i0.ɵɵelementStart(5, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function SupplierComponent_form_0_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.supplierModel.supplierName = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵtext(7, \" Supplier Amount: \");\n    i0.ɵɵelementStart(8, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function SupplierComponent_form_0_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.supplierModel.supplierAmount = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"input\", 7);\n    i0.ɵɵlistener(\"click\", function SupplierComponent_form_0_Template_input_click_10_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.add());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 8);\n    i0.ɵɵlistener(\"click\", function SupplierComponent_form_0_Template_input_click_11_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.postToServer());\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.supplierModel.formSupplierGroup);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.supplierModel.supplierCode);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.supplierModel.supplierName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.supplierModel.supplierAmount)(\"ngModelOptions\", i0.ɵɵpureFunction0(7, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.supplierModel.formSupplierGroup.valid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.disable);\n  }\n}\n\nfunction SupplierComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1, \" Supplier Code format is wrong\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"hidden\", !ctx_r1.hasError(\"SupplierCodeControl\", \"pattern\"));\n  }\n}\n\nfunction SupplierComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1, \" Supplier Code is required\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"hidden\", !ctx_r2.hasError(\"SupplierCodeControl\", \"required\"));\n  }\n}\n\nfunction SupplierComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1, \" Supplier name is required\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"hidden\", !ctx_r3.hasError(\"SupplierNameControl\", \"required\"));\n  }\n}\n\nconst _c1 = function () {\n  return {\n    \"colName\": \"supplierName\"\n  };\n};\n\nconst _c2 = function () {\n  return {\n    \"colName\": \"supplierCode\"\n  };\n};\n\nconst _c3 = function () {\n  return {\n    \"colName\": \"supplierAmount\"\n  };\n};\n\nconst _c4 = function (a0, a1, a2) {\n  return [a0, a1, a2];\n};\n\nexport let SupplierComponent = /*#__PURE__*/(() => {\n  class SupplierComponent {\n    constructor(_inj, http) {\n      this.http = http;\n      this.supplierModel = new Supplier();\n      this.supplierModels = new Array();\n      this.disable = false;\n      this.logger = _inj.get('2');\n      this.logger.log('inside CustComponent');\n      this.getFromServer();\n    }\n\n    add() {\n      this.supplierModels.push(this.supplierModel);\n      this.supplierModel = new Supplier();\n    }\n\n    postToServer() {\n      var supDto = {};\n      supDto.supplierName = this.supplierModel.supplierName;\n      supDto.supplierAmount = this.supplierModel.supplierAmount;\n      supDto.supplierCode = this.supplierModel.supplierCode;\n      this.disable = true;\n      this.http.post(\"http://localhost:3000/suppliers\", supDto).subscribe(res => this.success(res), res => this.failure(res));\n    }\n\n    selectSupplier(selected) {\n      this.supplierModel = new Supplier();\n      this.supplierModel.supplierAmount = selected.supplierAmount;\n      this.supplierModel.supplierCode = selected.supplierCode;\n      this.supplierModel.supplierName = selected.supplierName;\n    }\n\n    hasError(formControlName, validationName) {\n      return this.supplierModel.formSupplierGroup.controls[formControlName].hasError(validationName);\n    }\n\n    success(res) {\n      this.getFromServer();\n    }\n\n    getFromServer() {\n      this.http.get(\"http://localhost:3000/suppliers\").subscribe(res => this.successGet(res), res => this.failure(res));\n    }\n\n    failure(res) {\n      console.error('error while getting/posting suppliers::' + res);\n    }\n\n    successGet(res) {\n      this.supplierModels = res;\n      this.supplierModel = new Supplier();\n      this.disable = false;\n    }\n\n  }\n\n  SupplierComponent.ɵfac = function SupplierComponent_Factory(t) {\n    return new (t || SupplierComponent)(i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n\n  SupplierComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SupplierComponent,\n    selectors: [[\"ng-component\"]],\n    decls: 8,\n    vars: 13,\n    consts: [[3, \"formGroup\", 4, \"ngIf\"], [3, \"hidden\", 4, \"ngIf\"], [\"type-of-data\", \"'Supplier'\", 3, \"grid-columns\", \"grid-data\", \"grid-selected\"], [3, \"formGroup\"], [\"type\", \"text\", \"formControlName\", \"SupplierCodeControl\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"formControlName\", \"SupplierNameControl\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"type\", \"button\", \"value\", \"Add Tempararily\", 3, \"disabled\", \"click\"], [\"type\", \"button\", \"value\", \"Add Permenently\", 3, \"disabled\", \"click\"], [3, \"hidden\"]],\n    template: function SupplierComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, SupplierComponent_form_0_Template, 12, 8, \"form\", 0);\n        i0.ɵɵtemplate(1, SupplierComponent_div_1_Template, 2, 1, \"div\", 1);\n        i0.ɵɵelement(2, \"br\");\n        i0.ɵɵtemplate(3, SupplierComponent_div_3_Template, 2, 1, \"div\", 1);\n        i0.ɵɵelement(4, \"br\");\n        i0.ɵɵtemplate(5, SupplierComponent_div_5_Template, 2, 1, \"div\", 1);\n        i0.ɵɵelement(6, \"br\");\n        i0.ɵɵelementStart(7, \"grid-ui\", 2);\n        i0.ɵɵlistener(\"grid-selected\", function SupplierComponent_Template_grid_ui_grid_selected_7_listener($event) {\n          return ctx.selectSupplier($event);\n        });\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.supplierModel.formSupplierGroup);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.supplierModel.formSupplierGroup && ctx.supplierModel.formSupplierGroup.dirty);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.supplierModel.formSupplierGroup && ctx.supplierModel.formSupplierGroup.dirty);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.supplierModel.formSupplierGroup && ctx.supplierModel.formSupplierGroup.dirty);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"grid-columns\", i0.ɵɵpureFunction3(9, _c4, i0.ɵɵpureFunction0(6, _c1), i0.ɵɵpureFunction0(7, _c2), i0.ɵɵpureFunction0(8, _c3)))(\"grid-data\", ctx.supplierModels);\n      }\n    },\n    dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.FormGroupDirective, i3.FormControlName, i4.GridComponent],\n    encapsulation: 2\n  });\n  return SupplierComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}